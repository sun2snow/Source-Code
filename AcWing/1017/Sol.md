对于每一个 $i\in[1,n]$，找到以 $i$ 为起点的最长下降子序列，求最长下降子序列的最大长度。

转化一下，显然每一个以 $i$ 为起点的子序列可以转化为以 $j\in[1,n]$ 为终点的子序列。

预处理出原序列的最长上升子序列以及最长下降子序列，记为 $f_i,g_i$。

答案即为

$$
\max\limits_{i=1}^{n}\Big(\max\{f_i,g_i\}\Big)
$$

时间复杂度为 $O(Tn^2)$。

